!!----------------------------------------UNCLASSIFIED-------------------------------------------
!! File: test_4b8b.txt                                                                          -
!!                                                                                              -
!! Desc: This macro tests the icc4b8b primitive.                                                -
!!                                                                                              -
!! Args: NONE  - No input arguments.              <X:>                                          -
!!                                                                                              -
!! Swch: None                                                                                   -
!!                                                                                              -
!! Hist : When       Who  What                                                                  -
!!        08/25/2006 ptb  Initial Code.                                                         -
!!                                                                                              -
!! Examples: test_4b8b                                                                       -
!!                                                                                              -
!!01.0 Description                                                                              -
!!02.0 Requirements                                                                             -
!!03.0 Interfaces                                                                               -
!!04.0 Design Description                                                                       -
!!05.0 Unit Code                                                                                -
!!06.0 Unit Test Plan                                                                           -
!!07.0 Test Results                                                                             -
!!08.0 Build Procedures                                                                         -
!!09.0 Notes                                                                                    -
!!10.0 Reviewers.                                                                               -
!!-----------------------------------------------------------------------------------------------
startmacro 

!! clean the screen
!!-----------------------------------------------------------------------------------------------
  os reset

!! Create test data.
!!-----------------------------------------------------------------------------------------------
  SAY "========================================================================="
  SAY "Creating test data file with scalar byte 127 or 0x7F."
  SAY "========================================================================="
  const test_data1 sb 128 127

!! Unpack the data and check.
!!-----------------------------------------------------------------------------------------------
  SAY "========================================================================="
  SAY "Testing icc4b8b with LSB flag."
  SAY "Unpacked data should be 15 7 15 7 ..."
  SAY "========================================================================="
  icc4b8b test_data1 temp1 "LSB"

  datalist temp1

!! Unpack the data with MSB and check.
!!-----------------------------------------------------------------------------------------------
  SAY "========================================================================="
  SAY "Testing icc4b8b with MSB flag."
  SAY "Unpacked data should be 7 15 7 15 ..."
  SAY "========================================================================="
  icc4b8b test_data1 temp2 "MSB"

  datalist temp2

  SAY "========================================================================="
  SAY "DONE!."
  SAY "========================================================================="

endmacro




