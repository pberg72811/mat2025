/*----------------------------------------UNCLASSIFIED-----------------------------------------*/
// File: makePhiGrnTable.c                                                                      -
// Desc: This program                                                                           -
// Args: iFileName     - The name of the input file.                                            -
// Hist: When       Who  What                                                                   -
//       10/28/2007 ptb  Initial Code.                                                          -
/*---------------------------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------------------------*/
/* Preprocessor directives --------------------------------------------------------------------*/
/*---------------------------------------------------------------------------------------------*/
/* Include files ------------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------------------------*/
#include "xmc.h"
#include "orbit_utils.h"
#include <sys/stat.h>

/* Constants ----------------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------------------------*/
#define DEBUG 1
#define BLOCK_SIZE 1000

#define MAKEPHIGRNTABLE_FUNC_DESC \
"**********************************************************************************************\n"\
"Desc: This program ...                                                                       -\n"\
"                                                                                             -\n"\
"Args: iFileName     - The name of the input file.                                            -\n"\
"      oFileNameBase - The name of the output file.                                           -\n"\
"                                                                                             -\n"\
"Note:                                                                                        -\n"\
"**********************************************************************************************\n"\
"\n"

/* Type defines -------------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------------------------*/
/* Macros -------------------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------------------------*/
/* Prototypes ---------------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------------------------*/
/* Routines -----------------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------------------------*/
int main(int argc, char **argv)
{
  INT32 ii;
  FLT64 phiGrn;
  INT64 currentTimeUTC;
  char timeString[128];


  // Handle input parameters.
  //---------------------------------------------------------------------------------------------
  for(ii = 0; ii<argc; ii++)
  {
    if( (!strncmp( argv[ii], "-h",     2)) || 
	(!strncmp( argv[ii], "--help", 6))   )
    {
      fprintf(stderr, MAKEPHIGRNTABLE_FUNC_DESC);
      exit(0);
    }
    else if( argc != 1 )
    {
      fprintf(stderr, MAKEPHIGRNTABLE_FUNC_DESC);
      exit(0);
    }
    else
    {
     if(ii==1)
      {
	//sscanf(argv[ii],"%s", ifileName);
	printf("Argument 1.\n");
      }
     if(ii==2)
      {
	//sscanf(argv[ii],"%s", ofileNameBase);
	printf("Argument 2.\n");
      }

    }
  }

  currentTimeUTC = xccCurrentJulianSeconds();

  phiGrn = xccGetPhiGrn( currentTimeUTC );
 
  for(ii=0;ii<86400;ii=ii+600)
  {
    phiGrn = xccGetPhiGrn( currentTimeUTC+ii );
    xccASCIITime(currentTimeUTC+ii-XMC_JULIAN_SECONDS_JAN1_1970, timeString, "%D");
    printf("Current PhiGrn is %3.5f ",phiGrn);
    printf("Current PhiGrn is %3.5f ",phiGrn*180/PI);
    printf(" Time %s\n ",timeString);
  }
  return(0);

}

/* End preprocessor directives -----------------------------------------------*/
/*----------------------------------------------------------------------------*/

/*-------------------------------UNCLASSIFIED---------------------------------*/
