#!/usr/bin/make
#------------------------------------------------------------------------------------------------
# File: Makefile                                                                                -
# Desc: C++ octave makefile.                                                                    -
# Hist: When       Who  What                                                                    -
#       07/11/2001 ptb  Initial Code.                                                           -
#       02/07/2006 ptb  Update for option trees.                                                -
#------------------------------------------------------------------------------------------------
SHELL      = /bin/sh
CC         = g++
OCTAVELIB  = iccBlackman

#-------------------------------------------------------------------------------'
# Include directories requied.
#-------------------------------------------------------------------------------'
INCDIRS = -I $(STESWD)/inc      \
          -I $(STESWD)/inc/sys  \
          -I /usr/include/octave  

#-------------------------------------------------------------------------------'
# Library directories requied.
#-------------------------------------------------------------------------------'
LIBDIRS = -L $(STESWD)/lib

#-------------------------------------------------------------------------------'
# Sources requied.
#-------------------------------------------------------------------------------'
SRCS = $(OCTAVELIB).cc

#-------------------------------------------------------------------------------'
# Objects requied.
#-------------------------------------------------------------------------------'
OBJS = $(SRCS:.cc=.o)

#-------------------------------------------------------------------------------'
# Libraries requied.
#-------------------------------------------------------------------------------'
LIBS = $(STESWD)/lib/iccDSPUtils.so    \
       $(STESWD)/lib/iccMallocUtils.so \
       $(STESWD)/lib/iccStackUtils.so  \
       $(STESWD)/lib/iccVectorUtils.so
 
#-------------------------------------------------------------------------------'
# Flags and such.
#-------------------------------------------------------------------------------'
CCFLAGS    = -shared -O2 -Wall -mieee-fp -fno-rtti -fno-exceptions -fno-implicit-templates
DEFINES    = -DHAVE_CONFIG_H
DEPENDFLAG = -M
LKFLAGS    = -lm

#------------------------------------------------------------------------------------------------
# Include the common make file.
#------------------------------------------------------------------------------------------------
THESWD = $(STESWD)
-include $(STESWD)/dev/make.rules
