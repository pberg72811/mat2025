#!/usr/bin/make
#------------------------------------------------------------------------------------------------
# File: Makefile                                                                                -
# Desc: ASM/C binary makefile.                                                                  -
# Hist: When       Who  What                                                                    -
#       07/11/2001 ptb  Initial Code.                                                           -
#       04/19/2004 ptb  Assembly make file.                                                     -
#       02/07/2006 ptb  Update for option trees.                                                -
#------------------------------------------------------------------------------------------------
SHELL      = /bin/sh
CC         = gcc
ASM        = nasm
EXECUTABLE = testRun

#------------------------------------------------------------------------------------------------
# Include directories requied.
#------------------------------------------------------------------------------------------------
INCDIRS = -I $(XMOPTS)/xmc/inc  \
          -I $(XMOPTS)/xcc/inc

#------------------------------------------------------------------------------------------------
# Library directories requied.
#------------------------------------------------------------------------------------------------
LIBDIRS = -L $(XMOPTS)/xcc/lib \
          -L /usr/lib

#------------------------------------------------------------------------------------------------
# Sources requied.
#------------------------------------------------------------------------------------------------
SRCS1 = xccvAdd.asm

SRCS2 = $(EXECUTABLE).c 

#------------------------------------------------------------------------------------------------
# Objects requied.
#------------------------------------------------------------------------------------------------
OBJS = $(SRCS1:.asm=.o) $(SRCS2:.c=.o)

#------------------------------------------------------------------------------------------------
# Libraries requied. (Usually left blank for libraries).
#------------------------------------------------------------------------------------------------
LIBS = $(XMOPTS)/xcc/lib/libmalloc_utils.so  \
       $(XMOPTS)/xcc/lib/liborbit_utils.so   \
       $(XMOPTS)/xcc/lib/libvector_utils.so

#------------------------------------------------------------------------------------------------
# Flags and such.
#------------------------------------------------------------------------------------------------
CCFLAGS    = -Wall -g -fPIC #-O3
ASMFLAGS   = -f elf -g
DEFINES    =
DEPENDFLAG = -M 
LKFLAGS    = -lm 

# Include the common make file.
#------------------------------------------------------------------------------------------------
THESWD = $(XMOPTS)/xcc/
-include $(XMOPTS)/xmc/dev/make.rules
